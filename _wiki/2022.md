---
layout  : wiki
title   : 2022년 메모 
summary : 
date    : 2022-03-20 14:56:40 +0900
updated : 2022-06-06 23:02:19 +0900
tag     : 
toc     : true
public  : true
parent  : [[diary]]
latex   : false
---
* [[TOC]]
{:toc}
## 이번주 WIL 작성 
### WIL
드디어 4주간의 실전 프로젝트가 끝났다. 아쉬움이 너무 많이 남지만, 웬지 모르게 최종 발표회때 굉장히 많은 협력업체들의 질문을 받은거 같다. 내용을 정리해본다.
1. 아키텍쳐 문제 
   ![image](https://user-images.githubusercontent.com/56494905/172051470-c15ad926-1d69-4672-bfb3-ae6543cd1768.png)
* 내가 실수 + 몰랐던 부분
    - 몽고 DB를 채팅서버랑 도커로 묶었다. (X)
        - DB는 서버랑 묶어서 서버를 묶지 않는다. (sacle up이 불가능하다.)
        - Redundancy가 불가능하다. <- 장애 발생시 다른 인스턴스가 생겨서 에러를 방지 
        - 가용성(Availability) 확장성(Scalability) 
        
    -  Elastic Beanstalk 에서 Load Balancing이 작동되는 원리를 잘모르겠다.
        - 아키텍쳐에서 내가 nginx 를 넣어 놨는데 단지 내가 ssh로 들어가서 nginx가 있어서 reverse proxy 가 되는걸로 알고 이렇게 적었는다.
        - 그런데 생각해보니 내가 따로 서버를 나누었던 것은 그냥 각각 다른 인스턴스의 도메인이다.
        - 즉 각각 nginx가 있더라도 reverse proxy로 작동되는게 아니라 그냥 각각의 nginx가 따로 작동되는것이다.  
        - 그럼 EB에서 있는 LoadBalancing은 어떻게 작동되는 것일까? 좀더 생각해 봐야겠다.


 
##  2022-05-22 16:04:33
###  WIL
1.   


##  2022-05-15 14:04:14
### WIL
1. Typeorm 쿼리문 문제 [이슈링크]{https://github.com/ddang-ddang/back-end/issues/48}
    * 내장된 typeorm 문법을 사용하려고 했다.. 하지만 처참히 실패 하루를 날렸다. [실패이슈]{https://github.com/ddang-ddang/back-end/issues/52}
2. Elastic Beanstalk 공부로 인한 다양한 삽질결과물
    * Elastic Beanstalk는 AWS 핵심 기능의 하나이다.
    * CI/CD, HTTPS, Load Balancing, EC2, Codepipeline, nginx 등 모든 기능들을 한꺼번에 사용할 수 있다.
    * 다양한 방법으로 deploy를 할 수 있다.
    * 도커에 대해 잘알면 다음으로 넘어가기 쉽다.
    * nginx 도 들어 있어서 Reverse Proxy까지 알고 있어야한다.
    * docker 경로 설정이 복잡하지만 해결했다. 작성해야할 문서들이 많아졌다
    * Github -> Codepipeline -> Node Source -> Elastic Beanstalk -> 배포 완료
    * Github -> Docker 배포 -> Docker Image로 -> Elastic Beanstalk -> 배포완료 
    * 채팅 서버까지 연결 하려면 필히 Reverse Proxy를 이용해서 한개의 아이피의 라우터로 각각 다른 서버의 서비스를 붙여야한다.

3. Refresh token에 관련한 내용에 대해 좀 더 알게되었다.
    * Refresh 토큰에 관한 내용 [이슈]{https://github.com/ddang-ddang/back-end/issues/39}
    
> 나혼자 작업이 지체되고 있는거 같다. 좀더 분발해서 진도를 나가자

## 2022-05-09 16:45:17
### WIL
- 프로젝트 진행사항 이슈
- 1. Entity 에서 class-validation을 사용할때 @IsNotEmpty() 옵션을 줘야지 POST가 잘 받아짐
- 2. local.strategy.ts 작성할때 Id를 user말고 다른걸로 설정할때 아래와 같이 usernameField를 설정하지 않으면 에러가남
```javascript
@Injectable()
export class LocalStrategy extends PassportStrategyStrategy)( {
  constructor(private authService: AuthService) {
      super({ usernameField: 'email' }; //꼭 이부분을 넣어야함
        })}})
```
- 3. 아직 해결중이지만 쿠키에 JWT토큰 넣고 서버에서 res.cookie('token', access_token) 해줘도 프론트팀에서 만든 프론트에서 랜덤으로 쿠키가 들어간다. 
  아직은 이유를 모르겠다...

## 2022-05-04 20:19:56
- 10시간 동안 회의만 하는중... ㅏ


## 2022-05-01 15:11:35
### WIL
- 실전 프로젝트 관련 내용 정리
- Stack
    * Frontend
        1. react.js 
        2. kakao map API
        3. PWA
        4. GPS
    * bakcend
        1. Nest.js
        2. Socket(예정)
    * DevOps
        1. Docker
        2. Github action
        3. pm2
        4. aws
        5. mysql
- Main concept
    * 지도상 내가 생성한 마커를 기준으로 주변 사람과 소통 및 미션을 수행후 리워즈및 명예의 전당에 오를 수 있음

- target
    * mobile user()

        
- 1일차
    * 위치 기반 서비스에서 컨셉이 시작
    * 포켓몬고와 같이 게임 컨셉으로 진행을 했음

## 2022-04-30 20:22:42
- 실전 프로젝트 2일차
- 기존 2조와 같은 백엔드 팀원으로 조가 같이 됐다. 이미 익숙해서 다들 친해서 굉장히 수월하게 진행되는 느낌이다.
- 2일만에 전반적인 기본 틀과 API ERD가 나왔다.
- 주제는 위치기반의 커뮤니티 서비스. 
- 일요일에는 CI/CD를 좀 구성해보려고 한다.
    - Github action, docker, pm2, mysql, nginx 이렇게 구성할 듯 싶다.



## 2022-04-24 21:02:40 
### WIL
- 아직 해야될게 많은데 마음만 앞서고 정작 해야 될것을 조금씩 미루고 있는거 같다  
- 아직도 우선순위로 해야 될 일을 정리하지 못하고 있는거 같으니 다시 정리해서 천천히 해야할 일을 먼저 끝내고 다음 작업을 진행하도록 스스로 다짐한다 
- 다음 주 중으로 리더 부리더를 뽑는다고 한다. 나도 정작 해야 할 일을 잘 못하고 있는 판에 다른 사람들을 잘 이끌수 있을까 싶다. 다른 팀원들은 묵묵히 자기일을 끝내 놓고 다음 단계를 진행하는데 나는 아직 제자리 걸음인거 같다 
- 레이지 로딩, 이거로딩, N+1문제 라는 주제로 WIL를 작성 해야한다. 한번도 들어본적이 없는 주제이다. 하지만 다른 분이 정리해 놓은 포스팅을 보고 나서 간단히 이해한 내용을 정리하려 한다


> 레이지 로딩 : 이미 DB를 다 불러와서 쓸데 없는 데이터까지 모두 한번에 가져온다. 트래픽 발생이 생길 수 있다.

> 이거 로딩 : 원하는 데이터를 그때그때 불러온다. 트래픽이 많이 발생하지 않지만 한번에 많은 트렌젝션이 발생한다. TYPEorm에서는 이러한 문제를 leftjoin같은 구문으로 해결한다고 한다 

> N+1 문제 : 이거 로딩에서 한개의 쿼리문이 발생할때 그 이상? 더 많은 개수의 쿼리가 발생된다( 옵션별로 쿼리문이 생기기 때문에)

- 지금 간단히 이해한 내용은 이렇고 따로 항목을 만들어서 테스트 하면서 작성 하고 싶다.
- TYPEorm을 아직 시작을 안했기 때문에...

## 2022-04-17 09:45:15 
### WIL

- Node.js : ORM, noSQL vs SQL

* ORM(Object Relational Mapping)
    - 객체 관계 맵핑
    - 예전에는 모든 테이블형의 데이터 구조를 가지고 Primary key와 Forigner key를 가지고 테이블간에 정의를 내렸다
    - 하지만 복잡한 쿼리문과 가독성이 떨어지는 구조는 RDBMS의 한계라고 생각된다
    - 따라서 이것에 대한 대안으로 객체의 개념을 데이터베이스와 연결시켜 하나의 데이터베이스 프레임워크가 되버린 듯하다
    

* NoSQL 을 사용하면서 느낀점
    - 굉장히 자유롭다
    - 자바스크립트의 말도안되는 확장성의 성격을 가지고 있다
    - 한번에 간단한 구조의 데이터베이스의 활용으로는 괜찮을 듯 하다
    - 하지만 데이터가 굉장히 많아지고 처리해야할 트렌젝션이 많아진다면? 
    - 한번에 많은 사용자가 요청을 많이 하게 된다고 하면?
    - 서버의 성능이나 대역폭에 따라 다른 성능을 보일것으로 생각된다.
    - Nosql 과 SQL 과 같은 사양의 서버로 같은 형식의 데이터 구조를 불러왔을때 얼마나 성능이 다른지 궁금하다


* SQL 을 사용하면서 느낀점
    - 역시 관계형 데이터 베이스로 관계 형성이 굉장히 복잡하다
    - 간단한 게시판과 코멘트의 테이블을 만들고  게시판이 코멘트를 가지고 있는지 코멘트가 게시판을 가지고 있는지 결정해야 한다
    - 또한 1 대 다 상관관계와 1대 1 관계 다대다 관계등 복잡한 테이블속에 관계를 형성하는게 앞으로 서비스 품질에 영향을 끼칠 것으로 생각된다
    - 한번 관계를 형성하고 데이터베이스 구조가 완성이 되면 수정 및 추가 부분이 굉장히 힘들고 요구비용이 많이 든다
    - 요구되는 사양을 충분히 생각하고 그에대해 추가적으로 기능 구현이 될 수 있는 부분을 고려해서 디비를 설계하는게 좋을 듯 하지만 이 또한 비용 적인 측면에서 추가로 들 수 밖에 없다


* Sequelize 사용하면서 느낀점
    - 옛날에 사용했던 느낌으로만 진행하려고 하니 막히는 부분이 굉장히 많았다
    - ORM 방식을 처음 써보는데 MongoDB와 굉장히 유사하지만 테이블간에 관계 형성에 대해 연결해서 생각하기 굉장히 어려웠다
    - 몽고디비는 model을 만들고 나면 한번 만든 model를 가지고 삽입 삭제 수정 등 모든 CURD 작업을 할 수 있다
    - 하지만 Sequlize도 비슷하지만 먼저 Sync 메소드를 통해서 연결부분을 
    
    
* 코드의 재활용 및 리펙토링
    - 지난주에도 느꼈지만, 나의 코드는 굉장히 더럽다.
    - 반면 다른 분들의 코드는 깔끔하고 가독성도 좋다
    - 지금은 구현에만 중점을 두고 있는데 조금더 리펙토링과 가독성 측면에서 더 생각하면서 진행해 봐야겠다
    
    
* 앞으로 해야할 것
    - typescript
    - typeorm
    - nestJS
    - API test  



## 2022-04-13 10:29:11
[완성링크](http://diasm.mooo.com:3005)

지난 주말에 빠르게 노드관련 클론코딩을 마치고 그 베이스를 가지고 처음부터 만들어 보았다 중간중간 잊어버린 코드와 copilot 의 도움을 받아 하루?만에.. 만들긴 했지만 아래와 같은 문제점이 발생 하였다



* [ ] 하다 보니 디자인이 거슬린다... 
    - CSS 손대지 마라...
* [ ] redirect 부분이 고려가 안되었다
    - 코멘트의 삭제 API를 불러왔을때 바로 전단계로 다시 불러오고싶지만 안된다.
    - 아직 고민을 더 해봐야한다... 
* [ ] 예외처리 부분에 대해서 조금 더 고민해봐야한다
    - 뭔가 잘못하고 있는거 같다... 
* [ ] 백에서 보내서 프론트에서 받은 내용이 깨지는 문제점
    - 아래 코드를 이용해 완료했다. 모든 내용을 보낼때마다 UTF로 어떻게 보낼 것인가?
    - res.writeHead(200, {'Content-Type': 'text/html; charset=utf-8'});
* [ ] 리펙토링을 하면서 코드의 가독성이 좋아지지만 파일 구조가 복잡해지는 문제점
    - 리펙토링을 과하게 하지 말자
    - 어떤 내용을 중심으로 리펙토링을 해야할지 미리 생각해야 한다
* [ ] 변수들을 안으로 넣는가 아니면 구조화 하는가 고민해봐야하나?
    - 
* [ ] 게시물의 ID를 몽고디비에서 제공하는 Id 변경해서 다시 해보자
    - 기존에는 내가 임의로 생성한 number를 카운팅하는 방식으로 넘버링을 했다
    - 그리고 게시물의 넘버링과 코멘트의 넘버링을 같이 카운터 해버리기때문에 게시물의 넘버링을 해줄 수 없다 -> 근데 꼭 해줘야하나? 
* [ ] 생각을 한대로 진행은 했지만 개인적인 프로젝트를 싫행하면서 계속 바뀌는 점이 발생하였다
    - 100% 생각대로 된다면 더할 나위 없겠지만, 생각지 못한 부분에서 막히거나 잘못 설계한 경우에는 롤백을 할 수 밖에 없다는 생각이 든다
    - 처음 설계시 충분한 생각을 가지고 내용을 정리한 후 예외 처리같은 부분을 잘 생각해서 설계를 해야 할거 같다


## 2022-04-10 06:49:20
### WIL
Node.js 주차 시작인데 꽤 재미있다. 
스파르타 강의를 보다가 뭔가 답답해서 지난번에 하다가 중단한 유튜버 강의를 보고 따라했다
중간중간 오타 같은것도 있어서 굉장히 헤맸지만 대부분 다 해결되었다.

클론코딩을 하고 나서는 정리를 하는게 굉장히 머리속에 잘 남는거 같다
아니, 모든 공부 뒤에 정리를 하는게 머리속에 더 남는다
아래는 리스트는 이 클론 코딩을 하면서 배운 내용이다


* MVC(Model, View, Controller) understand
     - Model : data initialize, data structure
     - View : html, css, js
     - Controller : routing, data processing, data validation
* How to use google auth
     - Register google dev console
     - Add google auth to project
     - Get the google auth token
     - Use the token to access the google api
     - Use passport library for google auth
* How to use Materialize[Site link](hhttps://materializecss.com))
* How to use Mongodb
* How to use hbs(Express view engine for handlebar.js)
* How to use express 
      - app.use is used to use middleware
      - app.router is used to use router
      - GET, POST, PUT, DELETE, PATCH
* How to use middleware in router
     - Middleware is a function that runs in the middle of the router
     - So, middleware is used to check the user is logged in or not



[link](https://github.com/diasm3/Node_prac/blob/97cd2be291dc3217165e96eafb186b1be604d7c1/README.md)


## 2022-04-09 05:50:21
토요일
* 주특기 시작
   * 첫 과제는 게시판 만들기
    * get, post put, patch, delete 관한 내용을 알게되었다.
    * 여태 그냥 axios.get()만 써왔는데 왜 이것을 쓰는지에 대해 좀더 명확하게 알게 되었다




## 2022-04-03 22:58:40 
### WIL
일요일

- 힙, 정렬(버블, 선택, 삽입, 퀵, 머지, 힙) 중 최소 3개
- [[heap]]
- [[merge_sort]]

> 정렬같은 경우 단골로 나오는 알고리즘 문제이다 꼭 한번씩은 다시 직접 구현해서 잊어버리지 말자




## 2022-04-02 18:44:34
집중력 기르기 
1. 휴식 취하기 
2. 계획 세우기 
3. 명상하기
4. 집중이 잘되는 장소 선택하기
5. 균형잡힌 식생활하기
6. 자주 운동하기
7. 휴식을 취하고 환경에 변화 주기
8. `집중력 연습을 꾸준히 하자`
9. `내가 할 것을 명확히 하자`
10. 한눈을 팔거나 딴 생각을 할 시간을 따로 정해두자
11. `집중할때 호흡을 자주하자`
12. 최소 한시간 최대 30분 간격으로 조금 쉬자
13. `한번에 한 가지 일을 마치는 연습하자!!! `


> 나만의 위키 천천히 한개씩 완성시켜보자


## 2022-03-29 21:39:23 
월요일

오늘은Docker로ubuntu를 만들어 SSH와 nginx를 설치해서  github actions을 통해 자동배포까지 진행해봤다 
기초적인 CI/CD에 대한 내용을 알게 되었다 

아래와 두개를 링크를 걸어보았다

* [[docker-basic]]{docker 관련 기본}
* [[github-actions]]{github action을 통한 자동배포}


## 2022-03-27 17:49:08 
일요일 

푹 쉬었다. 
쉬는것도 중요하다고 생각한다.
아직도 가야할 길이 길기때문에 페이스 조절을 잘해야겠다.

###  WIL
2 주차가 마무리 됐다. 

조금 후회가 되는 2주차 였다.
더 집중해서 했으면 뒤쳐지지 않았을텐데...
다시 도토리반에 들어가서 `링크드리스트`, `스택`, `큐`, `해쉬 테이블` 을 복습 할 에정이다.

그래도 조금이라도 이해한 내용을 아래 적어본다

* [[graph]](그래프)
* BFS
* DFS
* 트리 

## 2022-03-26 15:33:03 
토요일 
팀원들과 vscode live share를 핳면서 스택에 대해서 같이 공부했다.
같이 코딩을 하면서 뭐가 문제인지 파악하면서 하니 재미있었다.
가티 코딩하는 도중문제가 발생했는데 적어봐야겠다.

1. 처음 설계를 정하지 않아 방향성을 잃
2. 각자 파일을 만들고 거기에 대한 클라스를 만들고 메소를 만들어 하나의 __main__ 파일로 가져오려고 했을때 같은 데이터를 못쓰는 문제점이 있었다. 
    * 결국에는 구조적인 문제로 인해 다시 만들어야 했던거 같다.

* [wikidoc](https://wikidocs.net/16073)
* [[inheritance-python]]{파인썬 상속}


> python 상속에 대해서 조금 더 알게되었다.





## 2022-03-25 06:46:47
금요일 
오늘도 집중해서 해보자 

다시 스택과 링크드리스트 큐에 대해서 공부를 시작하였다
복습하는 단계로 아무것도 없는 빈 페이지에서 직접 구현까지 할수 있는 단계까지가 목표이다


## 2022-03-24 07:26:28
목요일
김병관 멘토님의 면접 관련 미팅
블로그는 꾸준히 내생각의 흐름을 적는 방식으로 적어라 
기본적인 내용 스택 같은거 
두번쨰로 협업 능력 남탓 하지 않기 나의 부족함을 알기
알고리즘 주차에서 사고방식의 복사

OSI 7개층에 대해 항해톡을 들었는데 내걸로 만들

## 2022-03-23 15:56:38
오늘도 집중을 못하는 나 하루에 빡집중이 얼마나 될까 싶다.
정리 못한 일주차 부터 차근차근 해야 하는데 막상 다시 하려니 막막하다.
포기하지 말자
- 오늘은 이진트리에 관한 내용을 진행했다.

밤에 조금 더 집중이 잘되는 듯 하다


## 2022-03-22 12:59:11 
팀배정에 관한 내용을 전달 받았다. 
- 백엔드와 프론트엔드 두명이 리더와 부리더 짝꿍이 되어 지원한다.
- 대면 평과와 더불어 어느정도 기술적 능력은 있어야 하지만 정신적으로 팀원의 서포트와 팀을 이끌어 갈 수 있는 역량이 필요하다.

자기 반성
- 일요일에 Vimwiki와 Vim을 셋팅하면서 굉장히 집중이 잘되었다고 자만하던중어제 오늘 집중을 못하고 있다.
- 해야될것을 미루는 중인데 차근차근 다시 작성해야겠다. 항해가 끝나기 전까지는 항목에 있는 모든 것들이 채워지길 바란다.
- [[MVC]] 모델에 관한 내용을 오늘에서야 처음 알았다. 공부해야될게 많다.


## 2022-03-21 08:11:29
부트캠프 3주차 시작
여태 앉아있는게 어수선하고 졸립고 힘들었는데 이제 조금씩 적응되면서 집중할 수 있다.
블로그에 정리하는게 머리속에 더 잘들어오는거 같다

오늘 발표하신분의 퀄리티가 너무나 좋았다. 이름을 잊어버렸는데... 재귀 함수와 loop구분의 차이점을 쉽게 설명해주시면서 스택오버플로우가 왜 생긱는지에 대해 자세히 설명해주셔서 이해가 빨리됐다. 나도 한번 정리해야겠다

## 2022-03-20 19:25:10
### WIL [작성중]
>- 알고리즘 주차가 시작되었다.
>- 이 항목들을 많이 봐왔지만 맨날 졸립기만 하다 여전히
>- 파이썬으로도 다시 공부해야기 때문에 시간도 많이 걸리고 문법도 다시 이해해야한다.

- [[array]]{배열}
- [[linked-list]]{링크드리스트}
- [[stack]]{스택}
- [[queue]]{큐}
- [[hash-table]]{헤시테이블}

## 2022-03-20 17:48:51
하루종일 vim + vimwiki랑 싸우다가 이제서야 정리를 한다
결국에는 버전 문제 였구나..
몇시간동안 헤매다가 이렇게 잘되는군.....

## 2022-03-20 14:57:35
오늘부터 이렇게 쓸것이다 





