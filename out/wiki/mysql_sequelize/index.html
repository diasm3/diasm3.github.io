<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-4d00054ca4698fec.js"/><script src="/_next/static/chunks/1bace94d-b139ae434083d54f.js" async=""></script><script src="/_next/static/chunks/170-01d7f2fd137ced57.js" async=""></script><script src="/_next/static/chunks/main-app-f006bce5492190a9.js" async=""></script><script src="/_next/static/chunks/598-b69b240bf426274b.js" async=""></script><script src="/_next/static/chunks/531-a6f513f60d7f2ed6.js" async=""></script><script src="/_next/static/chunks/app/layout-1a9ce41322de5295.js" async=""></script><script src="/_next/static/chunks/848-a557251920a40253.js" async=""></script><script src="/_next/static/chunks/app/wiki/%5Bslug%5D/page-3bb981cd3ee1ea46.js" async=""></script><title>Your Blog Title</title><meta name="description" content="Your blog description"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="16x16"/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script><style data-styled="" data-styled-version="6.1.13">*{box-sizing:border-box;-webkit-tap-highlight-color:transparent;}/*!sc*/
html{font-size:16px;}/*!sc*/
@media screen and (min-width: 320px){html{font-size:14px;}}/*!sc*/
@media screen and (min-width: 768px){html{font-size:16px;}}/*!sc*/
body{margin:0;padding:0;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;}/*!sc*/
button,a{min-height:44px;min-width:44px;}/*!sc*/
input,select,textarea{font-size:16px;}/*!sc*/
data-styled.g1[id="sc-global-eaBKNu1"]{content:"sc-global-eaBKNu1,"}/*!sc*/
.iZiQNx{width:100%;padding:1rem;background:white;box-shadow:0 2px 4px rgba(0,0,0,0.1);}/*!sc*/
@media screen and (min-width: 768px){.iZiQNx{padding:1rem 2rem;}}/*!sc*/
data-styled.g2[id="sc-c74937be-0"]{content:"iZiQNx,"}/*!sc*/
.NHfvt{display:flex;flex-direction:column;gap:1rem;}/*!sc*/
@media screen and (min-width: 768px){.NHfvt{flex-direction:row;gap:2rem;}}/*!sc*/
.NHfvt a{font-size:1rem;color:#495057;text-decoration:none;transition:color 0.2s ease;}/*!sc*/
.NHfvt a:hover{color:#228be6;}/*!sc*/
data-styled.g3[id="sc-c74937be-1"]{content:"NHfvt,"}/*!sc*/
.eqaMzn h3{color:#495057;font-size:1.1rem;margin-bottom:1rem;}/*!sc*/
data-styled.g4[id="sc-fb7cae14-0"]{content:"eqaMzn,"}/*!sc*/
.TDPIL{list-style:none;padding:0;}/*!sc*/
.TDPIL li{margin-bottom:0.5rem;}/*!sc*/
.TDPIL li a{color:#6c757d;text-decoration:none;transition:color 0.2s ease;}/*!sc*/
.TDPIL li a:hover{color:#228be6;}/*!sc*/
data-styled.g5[id="sc-fb7cae14-1"]{content:"TDPIL,"}/*!sc*/
.kZhIA-D{text-align:center;margin-top:2rem;padding-top:1rem;border-top:1px solid #dee2e6;color:#868e96;font-size:0.9rem;}/*!sc*/
data-styled.g6[id="sc-fb7cae14-2"]{content:"kZhIA-D,"}/*!sc*/
.dpWTVH{width:100%;padding:1rem;background-color:#f8f9fa;}/*!sc*/
@media screen and (min-width: 768px){.dpWTVH{padding:2rem;}}/*!sc*/
data-styled.g7[id="sc-fb7cae14-3"]{content:"dpWTVH,"}/*!sc*/
.kLEGFD{display:grid;grid-template-columns:1fr;gap:1.5rem;}/*!sc*/
@media screen and (min-width: 768px){.kLEGFD{grid-template-columns:repeat(2,1fr);}}/*!sc*/
@media screen and (min-width: 1024px){.kLEGFD{grid-template-columns:repeat(3,1fr);max-width:1200px;margin:0 auto;}}/*!sc*/
data-styled.g8[id="sc-fb7cae14-4"]{content:"kLEGFD,"}/*!sc*/
.cVYoEr{padding:1rem;max-width:800px;margin:0 auto;}/*!sc*/
@media screen and (min-width: 768px){.cVYoEr{padding:2rem;}}/*!sc*/
data-styled.g9[id="sc-f070b76b-0"]{content:"cVYoEr,"}/*!sc*/
.gaoDd{margin-bottom:2rem;}/*!sc*/
.gaoDd h1{font-size:2.5rem;margin-bottom:1rem;}/*!sc*/
.gaoDd time{color:#6c757d;font-size:0.9rem;}/*!sc*/
data-styled.g10[id="sc-f070b76b-1"]{content:"gaoDd,"}/*!sc*/
.rqYiW{line-height:1.6;}/*!sc*/
.rqYiW h1,.rqYiW h2,.rqYiW h3,.rqYiW h4,.rqYiW h5,.rqYiW h6{margin:2rem 0 1rem;}/*!sc*/
.rqYiW p{margin:1rem 0;}/*!sc*/
.rqYiW code{background:#f8f9fa;padding:0.2rem 0.4rem;border-radius:4px;}/*!sc*/
.rqYiW pre{background:#f8f9fa;padding:1rem;border-radius:4px;overflow-x:auto;}/*!sc*/
.rqYiW pre code{background:none;padding:0;}/*!sc*/
data-styled.g11[id="sc-f070b76b-2"]{content:"rqYiW,"}/*!sc*/
</style></head><body><div style="min-height:100vh;display:flex;flex-direction:column"><header class="sc-c74937be-0 iZiQNx"><nav class="sc-c74937be-1 NHfvt"><a href="/">Home</a><a href="/wiki/">Wiki</a><a href="/blog/">Blog</a><a href="/search/">Search</a></nav></header><main style="flex:1"><article class="sc-f070b76b-0 cVYoEr"><header class="sc-f070b76b-1 gaoDd"><h1>mysql과 sequelize</h1><time dateTime="2022-04-16 08:04:47 +0900">4/16/2022</time></header><div class="sc-f070b76b-2 rqYiW"><ul>
<li>TOC
{:toc}</li>
</ul>
<h1>mysql</h1>
<h2>docker로 설치 방법</h2>
<pre><code class="language-bash">$ docker pull mysql

// m1 칩셋에서는 docker pull mysql이 안먹는다
// 아래 명령어로 받자

$ docker pull --platform linux/x86_64 mysql


// 이미지가 제대로 다운로드 됐는지 확인한다 
$ docker images



// 도커 컨테이너를 실행시키고 이름은 mysql-docker 루트의 비번은 password(변경해서) 3306포트로 설정한다
$ docker run --name msyql-docker -e MYSQL_ROOT_PASSWORD=&lt;password&gt; -d -p 3306:3306 mysql:lates

// docker list 확인
$ docker ps -a 

$ docker start mysql-docker

$ docker exec -it mysql-docker bash

//권한주기 로컬호스트로만 작동하고 싶으면  localhost로외부 전체 다 접속하고 싶으면 %로 변경
$ grant all privileges on *.* to &#x27;아이디&#x27;@&#x27;localhost&#x27;;

//혹시라도 CURD만 기능 넣고 싶다 
$ grant select, insert, update on DBname.* to &#x27;아이디&#x27;#&#x27;%&#x27;;

$ flush privileges


</code></pre>
<h2>EC2 서버 셋팅 방법</h2>
<ul>
<li>ubuntu 20 버전으로 EC2 micro2 버전을 선택한다</li>
<li>key 값을 받는다</li>
</ul>
<pre><code class="language-bash">
// 다운받은 폴더에 들어가서
$ cd test_mysql_aws

// 파일 실행권한 설정
$ chmod 400 my_test_key.pem

//ssh로 접속
$ ssh -i “my_test_key.pem” ubuntu@ec2SSSSSS214.us-east-2.compute.amazonaws.com
</code></pre>
<ul>
<li>프로그램 설치</li>
</ul>
<pre><code class="language-bash">$ sudo apt update
$ sudo apt install mysql-server nodejs npm
</code></pre>
<ul>
<li>한국 시간 맞추기</li>
</ul>
<pre><code class="language-bash">sudo ln -sf /usr/share/zoneinfo/Asia/Seoul /etc/localtime
</code></pre>
<ul>
<li>port fowarding</li>
<li>security 에서 inbound 항목에서 5000과 80 번 번호를 추가하고 아래의 명령어를 입력하자</li>
</ul>
<pre><code class="language-bash">$ sudo iptables -t nat -A PREROUTING -i eth0 -p tcp --dport 80 -j REDIRECT --to-port 5000
</code></pre>
<ul>
<li>sudo mysql</li>
</ul>
<pre><code class="language-bash">// 관리자로 들어감
mysql&gt; sudo mysql

// 관리자 테이블에 user 테이블에서 사용자를 확인한다
mysql&gt; select user from mysql.user;


// 사용자 아이디를 임의로 추가하다 @ &#x27;localhost&#x27; -&gt; 이것을 % 로 변경하면 외부도메인에서 접속할 수 있다
mysql&gt; CREATE USER &#x27;diasm&#x27;@&#x27;localhost&#x27; IDENTIFIED BY &#x27;123&#x27;;

// 권한 내요을 확인한다
mysql&gt;SHOW GRANTS FOR diasm@localhost;

// root 관리자의 암호를 변경
mysql&gt; ALTER USER &#x27;root&#x27;@&#x27;localhost&#x27; IDENTIFIED WITH mysql_native_password BY &#x27;your_password_here&#x27;;

// 적용
mysql&gt; FLUSH PRIVILEGES;

// 나가기
mysql&gt; exit

//셋팅한 암호치고 접속
$ sudo mysql -u root -p

// 백엔드에서 셋팅한 데이터베이스 이름
mysql&gt; create database database_name
</code></pre>
<h2>참고 사이트</h2>
<ul>
<li><a href="https://www.mysqltutorial.net/mysql-select-database/">링크</a></li>
<li><a href="https://velog.io/@gillog/MySQL-%EC%9C%A0%EC%A0%80-%EC%83%9D%EC%84%B1%ED%95%98%EA%B8%B0">링크2</a></li>
</ul>
<h2>Sequelize 사용법</h2>
<p>** 작성중</p></div></article></main><footer class="sc-fb7cae14-3 dpWTVH"><div class="sc-fb7cae14-4 kLEGFD"><div class="sc-fb7cae14-0 eqaMzn"><h3>Navigation</h3><ul class="sc-fb7cae14-1 TDPIL"><li><a href="/">Home</a></li><li><a href="/wiki/">Wiki</a></li><li><a href="/blog/">Blog</a></li><li><a href="/search/">Search</a></li></ul></div><div class="sc-fb7cae14-0 eqaMzn"><h3>Categories</h3><ul class="sc-fb7cae14-1 TDPIL"><li><a href="/wiki/Javascript/">JavaScript</a></li><li><a href="/wiki/Python/">Python</a></li><li><a href="/wiki/Docker/">Docker</a></li><li><a href="/wiki/algorithm/">Algorithms</a></li></ul></div><div class="sc-fb7cae14-0 eqaMzn"><h3>Connect</h3><ul class="sc-fb7cae14-1 TDPIL"><li><a href="https://github.com/your-username" target="_blank" rel="noopener noreferrer">GitHub</a></li><li><a href="https://linkedin.com/in/your-username" target="_blank" rel="noopener noreferrer">LinkedIn</a></li></ul></div></div><div class="sc-fb7cae14-2 kZhIA-D"><p>© <!-- -->2024<!-- --> Your Name. All rights reserved.</p></div></footer></div><script src="/_next/static/chunks/webpack-4d00054ca4698fec.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[4101,[\"598\",\"static/chunks/598-b69b240bf426274b.js\",\"531\",\"static/chunks/531-a6f513f60d7f2ed6.js\",\"185\",\"static/chunks/app/layout-1a9ce41322de5295.js\"],\"default\"]\n3:I[3742,[\"598\",\"static/chunks/598-b69b240bf426274b.js\",\"531\",\"static/chunks/531-a6f513f60d7f2ed6.js\",\"185\",\"static/chunks/app/layout-1a9ce41322de5295.js\"],\"default\"]\n4:I[7960,[],\"\"]\n5:I[5625,[],\"\"]\n6:I[9946,[\"598\",\"static/chunks/598-b69b240bf426274b.js\",\"531\",\"static/chunks/531-a6f513f60d7f2ed6.js\",\"185\",\"static/chunks/app/layout-1a9ce41322de5295.js\"],\"default\"]\n8:I[8165,[],\"OutletBoundary\"]\na:I[8165,[],\"MetadataBoundary\"]\nc:I[8165,[],\"ViewportBoundary\"]\ne:I[810,[],\"\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"1gBIa67YwYncMlz2nwFiK\",\"p\":\"\",\"c\":[\"\",\"wiki\",\"mysql_sequelize\",\"\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"wiki\",{\"children\":[[\"slug\",\"mysql_sequelize\",\"d\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":\\\"mysql_sequelize\\\"}\",{}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"html\",null,{\"lang\":\"ko\",\"children\":[\"$\",\"body\",null,{\"children\":[\"$\",\"$L2\",null,{\"children\":[\"$\",\"div\",null,{\"style\":{\"minHeight\":\"100vh\",\"display\":\"flex\",\"flexDirection\":\"column\"},\"children\":[[\"$\",\"$L3\",null,{}],[\"$\",\"main\",null,{\"style\":{\"flex\":1},\"children\":[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"h2\",null,{\"children\":\"404 - Page Not Found\"}],[\"$\",\"p\",null,{\"children\":\"The page you are looking for does not exist.\"}]]}],\"notFoundStyles\":[]}]}],[\"$\",\"$L6\",null,{}]]}]}]}]}]]}],{\"children\":[\"wiki\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"wiki\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]]}],{\"children\":[[\"slug\",\"mysql_sequelize\",\"d\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"wiki\",\"children\",\"$0:f:0:1:2:children:2:children:0\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$L7\",null,[\"$\",\"$L8\",null,{\"children\":\"$L9\"}]]}],{},null]},null]},null]},null],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$1\",\"utE8YaPrsK3Wor-x1dAAs\",{\"children\":[[\"$\",\"$La\",null,{\"children\":\"$Lb\"}],[\"$\",\"$Lc\",null,{\"children\":\"$Ld\"}],null]}]]}]]],\"m\":\"$undefined\",\"G\":[\"$e\",\"$undefined\"],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"f:I[4023,[\"598\",\"static/chunks/598-b69b240bf426274b.js\",\"848\",\"static/chunks/848-a557251920a40253.js\",\"607\",\"static/chunks/app/wiki/%5Bslug%5D/page-3bb981cd3ee1ea46.js\"],\"WikiContent\"]\n10:Tac9,"])</script><script>self.__next_f.push([1,"* TOC\n{:toc}\n\n# mysql \n## docker로 설치 방법\n```bash\n$ docker pull mysql\n\n// m1 칩셋에서는 docker pull mysql이 안먹는다\n// 아래 명령어로 받자\n\n$ docker pull --platform linux/x86_64 mysql\n\n\n// 이미지가 제대로 다운로드 됐는지 확인한다 \n$ docker images\n\n\n\n// 도커 컨테이너를 실행시키고 이름은 mysql-docker 루트의 비번은 password(변경해서) 3306포트로 설정한다\n$ docker run --name msyql-docker -e MYSQL_ROOT_PASSWORD=\u003cpassword\u003e -d -p 3306:3306 mysql:lates\n\n// docker list 확인\n$ docker ps -a \n\n$ docker start mysql-docker\n\n$ docker exec -it mysql-docker bash\n\n//권한주기 로컬호스트로만 작동하고 싶으면  localhost로외부 전체 다 접속하고 싶으면 %로 변경\n$ grant all privileges on *.* to '아이디'@'localhost';\n\n//혹시라도 CURD만 기능 넣고 싶다 \n$ grant select, insert, update on DBname.* to '아이디'#'%';\n\n$ flush privileges\n\n\n```\n\n## EC2 서버 셋팅 방법\n- ubuntu 20 버전으로 EC2 micro2 버전을 선택한다\n- key 값을 받는다 \n\n```bash\n\n// 다운받은 폴더에 들어가서\n$ cd test_mysql_aws\n\n// 파일 실행권한 설정\n$ chmod 400 my_test_key.pem\n\n//ssh로 접속\n$ ssh -i “my_test_key.pem” ubuntu@ec2SSSSSS214.us-east-2.compute.amazonaws.com\n```\n\n- 프로그램 설치\n\n```bash\n$ sudo apt update\n$ sudo apt install mysql-server nodejs npm\n```\n    \n- 한국 시간 맞추기\n\n```bash\nsudo ln -sf /usr/share/zoneinfo/Asia/Seoul /etc/localtime\n```\n\n- port fowarding \n- security 에서 inbound 항목에서 5000과 80 번 번호를 추가하고 아래의 명령어를 입력하자\n\n```bash\n$ sudo iptables -t nat -A PREROUTING -i eth0 -p tcp --dport 80 -j REDIRECT --to-port 5000\n```\n\n\n\n\n- sudo mysql\n\n```bash\n// 관리자로 들어감\nmysql\u003e sudo mysql\n\n// 관리자 테이블에 user 테이블에서 사용자를 확인한다\nmysql\u003e select user from mysql.user;\n\n\n// 사용자 아이디를 임의로 추가하다 @ 'localhost' -\u003e 이것을 % 로 변경하면 외부도메인에서 접속할 수 있다\nmysql\u003e CREATE USER 'diasm'@'localhost' IDENTIFIED BY '123';\n\n// 권한 내요을 확인한다\nmysql\u003eSHOW GRANTS FOR diasm@localhost;\n\n// root 관리자의 암호를 변경\nmysql\u003e ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY 'your_password_here';\n\n// 적용\nmysql\u003e FLUSH PRIVILEGES;\n\n// 나가기\nmysql\u003e exit\n\n//셋팅한 암호치고 접속\n$ sudo mysql -u root -p\n\n// 백엔드에서 셋팅한 데이터베이스 이름\nmysql\u003e create database database_name\n```\n\n## 참고 사이트\n- [링크](https://www.mysqltutorial.net/mysql-select-database/)\n- [링크2](https://velog.io/@gillog/MySQL-%EC%9C%A0%EC%A0%80-%EC%83%9D%EC%84%B1%ED%95%98%EA%B8%B0)\n\n## Sequelize 사용법\n** 작성중\n\n\n\n"])</script><script>self.__next_f.push([1,"7:[\"$\",\"$Lf\",null,{\"content\":\"$10\",\"frontMatter\":{\"title\":\"mysql과 sequelize\",\"description\":\"$undefined\",\"tags\":[\"MySQL\",\"Docker\",\"EC2\",\"설치 방법\",\"데이터베이스\"],\"date\":\"2022-04-16 08:04:47 +0900\"}}]\n"])</script><script>self.__next_f.push([1,"d:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\nb:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"1\",{\"children\":\"Your Blog Title\"}],[\"$\",\"meta\",\"2\",{\"name\":\"description\",\"content\":\"Your blog description\"}],[\"$\",\"link\",\"3\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"16x16\"}]]\n"])</script><script>self.__next_f.push([1,"9:null\n"])</script></body></html>