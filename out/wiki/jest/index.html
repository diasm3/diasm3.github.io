<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-4d00054ca4698fec.js"/><script src="/_next/static/chunks/1bace94d-b139ae434083d54f.js" async=""></script><script src="/_next/static/chunks/170-01d7f2fd137ced57.js" async=""></script><script src="/_next/static/chunks/main-app-f006bce5492190a9.js" async=""></script><script src="/_next/static/chunks/598-b69b240bf426274b.js" async=""></script><script src="/_next/static/chunks/531-a6f513f60d7f2ed6.js" async=""></script><script src="/_next/static/chunks/app/layout-1a9ce41322de5295.js" async=""></script><script src="/_next/static/chunks/848-a557251920a40253.js" async=""></script><script src="/_next/static/chunks/app/wiki/%5Bslug%5D/page-3bb981cd3ee1ea46.js" async=""></script><title>Your Blog Title</title><meta name="description" content="Your blog description"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="16x16"/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script><style data-styled="" data-styled-version="6.1.13">*{box-sizing:border-box;-webkit-tap-highlight-color:transparent;}/*!sc*/
html{font-size:16px;}/*!sc*/
@media screen and (min-width: 320px){html{font-size:14px;}}/*!sc*/
@media screen and (min-width: 768px){html{font-size:16px;}}/*!sc*/
body{margin:0;padding:0;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;}/*!sc*/
button,a{min-height:44px;min-width:44px;}/*!sc*/
input,select,textarea{font-size:16px;}/*!sc*/
data-styled.g1[id="sc-global-eaBKNu1"]{content:"sc-global-eaBKNu1,"}/*!sc*/
.iZiQNx{width:100%;padding:1rem;background:white;box-shadow:0 2px 4px rgba(0,0,0,0.1);}/*!sc*/
@media screen and (min-width: 768px){.iZiQNx{padding:1rem 2rem;}}/*!sc*/
data-styled.g2[id="sc-c74937be-0"]{content:"iZiQNx,"}/*!sc*/
.NHfvt{display:flex;flex-direction:column;gap:1rem;}/*!sc*/
@media screen and (min-width: 768px){.NHfvt{flex-direction:row;gap:2rem;}}/*!sc*/
.NHfvt a{font-size:1rem;color:#495057;text-decoration:none;transition:color 0.2s ease;}/*!sc*/
.NHfvt a:hover{color:#228be6;}/*!sc*/
data-styled.g3[id="sc-c74937be-1"]{content:"NHfvt,"}/*!sc*/
.eqaMzn h3{color:#495057;font-size:1.1rem;margin-bottom:1rem;}/*!sc*/
data-styled.g4[id="sc-fb7cae14-0"]{content:"eqaMzn,"}/*!sc*/
.TDPIL{list-style:none;padding:0;}/*!sc*/
.TDPIL li{margin-bottom:0.5rem;}/*!sc*/
.TDPIL li a{color:#6c757d;text-decoration:none;transition:color 0.2s ease;}/*!sc*/
.TDPIL li a:hover{color:#228be6;}/*!sc*/
data-styled.g5[id="sc-fb7cae14-1"]{content:"TDPIL,"}/*!sc*/
.kZhIA-D{text-align:center;margin-top:2rem;padding-top:1rem;border-top:1px solid #dee2e6;color:#868e96;font-size:0.9rem;}/*!sc*/
data-styled.g6[id="sc-fb7cae14-2"]{content:"kZhIA-D,"}/*!sc*/
.dpWTVH{width:100%;padding:1rem;background-color:#f8f9fa;}/*!sc*/
@media screen and (min-width: 768px){.dpWTVH{padding:2rem;}}/*!sc*/
data-styled.g7[id="sc-fb7cae14-3"]{content:"dpWTVH,"}/*!sc*/
.kLEGFD{display:grid;grid-template-columns:1fr;gap:1.5rem;}/*!sc*/
@media screen and (min-width: 768px){.kLEGFD{grid-template-columns:repeat(2,1fr);}}/*!sc*/
@media screen and (min-width: 1024px){.kLEGFD{grid-template-columns:repeat(3,1fr);max-width:1200px;margin:0 auto;}}/*!sc*/
data-styled.g8[id="sc-fb7cae14-4"]{content:"kLEGFD,"}/*!sc*/
.cVYoEr{padding:1rem;max-width:800px;margin:0 auto;}/*!sc*/
@media screen and (min-width: 768px){.cVYoEr{padding:2rem;}}/*!sc*/
data-styled.g9[id="sc-f070b76b-0"]{content:"cVYoEr,"}/*!sc*/
.gaoDd{margin-bottom:2rem;}/*!sc*/
.gaoDd h1{font-size:2.5rem;margin-bottom:1rem;}/*!sc*/
.gaoDd time{color:#6c757d;font-size:0.9rem;}/*!sc*/
data-styled.g10[id="sc-f070b76b-1"]{content:"gaoDd,"}/*!sc*/
.rqYiW{line-height:1.6;}/*!sc*/
.rqYiW h1,.rqYiW h2,.rqYiW h3,.rqYiW h4,.rqYiW h5,.rqYiW h6{margin:2rem 0 1rem;}/*!sc*/
.rqYiW p{margin:1rem 0;}/*!sc*/
.rqYiW code{background:#f8f9fa;padding:0.2rem 0.4rem;border-radius:4px;}/*!sc*/
.rqYiW pre{background:#f8f9fa;padding:1rem;border-radius:4px;overflow-x:auto;}/*!sc*/
.rqYiW pre code{background:none;padding:0;}/*!sc*/
data-styled.g11[id="sc-f070b76b-2"]{content:"rqYiW,"}/*!sc*/
</style></head><body><div style="min-height:100vh;display:flex;flex-direction:column"><header class="sc-c74937be-0 iZiQNx"><nav class="sc-c74937be-1 NHfvt"><a href="/">Home</a><a href="/wiki/">Wiki</a><a href="/blog/">Blog</a><a href="/search/">Search</a></nav></header><main style="flex:1"><article class="sc-f070b76b-0 cVYoEr"><header class="sc-f070b76b-1 gaoDd"><h1>Unit testing NestJS applications with Jest(의역) - 작성중</h1><time dateTime="2022-07-18 13:16:21 +0900">7/18/2022</time></header><div class="sc-f070b76b-2 rqYiW"><ul>
<li>TOC
{:toc}</li>
</ul>
<h1>Unit Test에 대한 이해(번역)</h1>
<ul>
<li>Unit 테스트에 대한 공부를 하기 위해 구글링한 자료를 번역해본다.</li>
<li>의역과 오역이 있을수 있다는</li>
<li>reference : https://blog.logrocket.com/unit-testing-nestjs-applications-with-jest/</li>
</ul>
<h2>Intro</h2>
<p>프로그램 테스트는 꾀 어려운 컨셉이다. 그래서 그런지 많은 프로그래머들은 버그가 발생하는것에 두려움을 느껴 테스트를 기피하게 된다. 특히 Node.js 생태계에서는 항시 필요한 느낌은 아닌데 반면에Java 생태계에서는 리소스가 부족한거 같다.</p>
<p>그럼에도 불구하고 테스트 코드를 작성해야 한다. 유닛테스트는 그중 가장 쉬운 편에 속하는데 유닛 테스트란 무엇인가에 대해 알아보고자 한다. 유닛 테스트는 <code>가장 작은단위에 포커스</code>를 맞춘 테스트이다. 유닛이란 단일 함수 또는 메소드인데 만약 순수한 함수라면 다른 이슈가 발생하지 않을거고굉장히 쉬운 결과값을 알 수 있게 된다.</p>
<pre><code class="language-jaavscript">expect(add(2,2)).toBe(4);
</code></pre>
<p>위 코드를 보고 우리는 바로 단정할 수 없는게 모든 함수들이 순수 함수로만 되어있지는 않기때문에 주의해야한다. 그리고 테스트 코드는 일반 함수보다 좀더 복잡하고 어렵다.</p>
<p>통상적으로 우리가 작성하는 함수들은 다른 함수를 위해 내부적으로 사용하는 함수이다. 예를 들어 <code>userService.createUser()</code> 같은경우에는 내부적으로 <code>userRepository.create()</code>를 불러서 유저엔티티를 만들고 <code>userRepository.save()</code>를 사용해 데이터베이스에 저장하게 된다. 이 경우에는 테스트 결과를 하는게 헛수고 이고, 코드가 제대로 작동되는지 확신할 수 없다.</p>
<p>유닛 테스트는 단지 비지니스로직에 대한 함수 그 자체를 테스트하기 위한 테스트이다.</p>
<p>그렇기 때문에 이러한 예제같은경우 <code>userRepository.create()</code>가 함수가 불러오는 자체를 확인해야 하는거고, 인자값</p>
<h2>What makes unit testing unique</h2>
<p>유닛 테스트는 의존적이 않아야하며 빨라야한다. 그리고 그 유닛에 대한 크기 에 대한 속도를 예상할 수 있다.? &lt;-- 좀더 확인해야함
유닛 테스트는 커밋이 완료된 후에는 꼭 테스트를 해야한다. 그중 GIT으로 어떤 파일이 어떤 내용으로 변경됬는지 추적할 수 있다</p>
<p>End-to-End(E2) 테스트는</p></div></article></main><footer class="sc-fb7cae14-3 dpWTVH"><div class="sc-fb7cae14-4 kLEGFD"><div class="sc-fb7cae14-0 eqaMzn"><h3>Navigation</h3><ul class="sc-fb7cae14-1 TDPIL"><li><a href="/">Home</a></li><li><a href="/wiki/">Wiki</a></li><li><a href="/blog/">Blog</a></li><li><a href="/search/">Search</a></li></ul></div><div class="sc-fb7cae14-0 eqaMzn"><h3>Categories</h3><ul class="sc-fb7cae14-1 TDPIL"><li><a href="/wiki/Javascript/">JavaScript</a></li><li><a href="/wiki/Python/">Python</a></li><li><a href="/wiki/Docker/">Docker</a></li><li><a href="/wiki/algorithm/">Algorithms</a></li></ul></div><div class="sc-fb7cae14-0 eqaMzn"><h3>Connect</h3><ul class="sc-fb7cae14-1 TDPIL"><li><a href="https://github.com/your-username" target="_blank" rel="noopener noreferrer">GitHub</a></li><li><a href="https://linkedin.com/in/your-username" target="_blank" rel="noopener noreferrer">LinkedIn</a></li></ul></div></div><div class="sc-fb7cae14-2 kZhIA-D"><p>© <!-- -->2024<!-- --> Your Name. All rights reserved.</p></div></footer></div><script src="/_next/static/chunks/webpack-4d00054ca4698fec.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[4101,[\"598\",\"static/chunks/598-b69b240bf426274b.js\",\"531\",\"static/chunks/531-a6f513f60d7f2ed6.js\",\"185\",\"static/chunks/app/layout-1a9ce41322de5295.js\"],\"default\"]\n3:I[3742,[\"598\",\"static/chunks/598-b69b240bf426274b.js\",\"531\",\"static/chunks/531-a6f513f60d7f2ed6.js\",\"185\",\"static/chunks/app/layout-1a9ce41322de5295.js\"],\"default\"]\n4:I[7960,[],\"\"]\n5:I[5625,[],\"\"]\n6:I[9946,[\"598\",\"static/chunks/598-b69b240bf426274b.js\",\"531\",\"static/chunks/531-a6f513f60d7f2ed6.js\",\"185\",\"static/chunks/app/layout-1a9ce41322de5295.js\"],\"default\"]\n8:I[8165,[],\"OutletBoundary\"]\na:I[8165,[],\"MetadataBoundary\"]\nc:I[8165,[],\"ViewportBoundary\"]\ne:I[810,[],\"\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"1gBIa67YwYncMlz2nwFiK\",\"p\":\"\",\"c\":[\"\",\"wiki\",\"jest\",\"\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"wiki\",{\"children\":[[\"slug\",\"jest\",\"d\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":\\\"jest\\\"}\",{}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"html\",null,{\"lang\":\"ko\",\"children\":[\"$\",\"body\",null,{\"children\":[\"$\",\"$L2\",null,{\"children\":[\"$\",\"div\",null,{\"style\":{\"minHeight\":\"100vh\",\"display\":\"flex\",\"flexDirection\":\"column\"},\"children\":[[\"$\",\"$L3\",null,{}],[\"$\",\"main\",null,{\"style\":{\"flex\":1},\"children\":[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"h2\",null,{\"children\":\"404 - Page Not Found\"}],[\"$\",\"p\",null,{\"children\":\"The page you are looking for does not exist.\"}]]}],\"notFoundStyles\":[]}]}],[\"$\",\"$L6\",null,{}]]}]}]}]}]]}],{\"children\":[\"wiki\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"wiki\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]]}],{\"children\":[[\"slug\",\"jest\",\"d\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"wiki\",\"children\",\"$0:f:0:1:2:children:2:children:0\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$L7\",null,[\"$\",\"$L8\",null,{\"children\":\"$L9\"}]]}],{},null]},null]},null]},null],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$1\",\"sF2Oi7zYGw0S1_mKAVVnO\",{\"children\":[[\"$\",\"$La\",null,{\"children\":\"$Lb\"}],[\"$\",\"$Lc\",null,{\"children\":\"$Ld\"}],null]}]]}]]],\"m\":\"$undefined\",\"G\":[\"$e\",\"$undefined\"],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"f:I[4023,[\"598\",\"static/chunks/598-b69b240bf426274b.js\",\"848\",\"static/chunks/848-a557251920a40253.js\",\"607\",\"static/chunks/app/wiki/%5Bslug%5D/page-3bb981cd3ee1ea46.js\"],\"WikiContent\"]\n10:T9b8,"])</script><script>self.__next_f.push([1,"* TOC\n{:toc}\n\n# Unit Test에 대한 이해(번역) \n- Unit 테스트에 대한 공부를 하기 위해 구글링한 자료를 번역해본다.\n- 의역과 오역이 있을수 있다는 \n- reference : https://blog.logrocket.com/unit-testing-nestjs-applications-with-jest/\n\n## Intro\n\n프로그램 테스트는 꾀 어려운 컨셉이다. 그래서 그런지 많은 프로그래머들은 버그가 발생하는것에 두려움을 느껴 테스트를 기피하게 된다. 특히 Node.js 생태계에서는 항시 필요한 느낌은 아닌데 반면에Java 생태계에서는 리소스가 부족한거 같다.\n\n그럼에도 불구하고 테스트 코드를 작성해야 한다. 유닛테스트는 그중 가장 쉬운 편에 속하는데 유닛 테스트란 무엇인가에 대해 알아보고자 한다. 유닛 테스트는 `가장 작은단위에 포커스`를 맞춘 테스트이다. 유닛이란 단일 함수 또는 메소드인데 만약 순수한 함수라면 다른 이슈가 발생하지 않을거고굉장히 쉬운 결과값을 알 수 있게 된다.\n\n```jaavscript\nexpect(add(2,2)).toBe(4);\n```\n\n위 코드를 보고 우리는 바로 단정할 수 없는게 모든 함수들이 순수 함수로만 되어있지는 않기때문에 주의해야한다. 그리고 테스트 코드는 일반 함수보다 좀더 복잡하고 어렵다.\n\n통상적으로 우리가 작성하는 함수들은 다른 함수를 위해 내부적으로 사용하는 함수이다. 예를 들어 `userService.createUser()` 같은경우에는 내부적으로 `userRepository.create()`를 불러서 유저엔티티를 만들고 `userRepository.save()`를 사용해 데이터베이스에 저장하게 된다. 이 경우에는 테스트 결과를 하는게 헛수고 이고, 코드가 제대로 작동되는지 확신할 수 없다.\n\n유닛 테스트는 단지 비지니스로직에 대한 함수 그 자체를 테스트하기 위한 테스트이다.\n\n그렇기 때문에 이러한 예제같은경우 `userRepository.create()`가 함수가 불러오는 자체를 확인해야 하는거고, 인자값\n\n\n## What makes unit testing unique\n\n유닛 테스트는 의존적이 않아야하며 빨라야한다. 그리고 그 유닛에 대한 크기 에 대한 속도를 예상할 수 있다.? \u003c-- 좀더 확인해야함 \n유닛 테스트는 커밋이 완료된 후에는 꼭 테스트를 해야한다. 그중 GIT으로 어떤 파일이 어떤 내용으로 변경됬는지 추적할 수 있다\n\nEnd-to-End(E2) 테스트는\n\n"])</script><script>self.__next_f.push([1,"7:[\"$\",\"$Lf\",null,{\"content\":\"$10\",\"frontMatter\":{\"title\":\"Unit testing NestJS applications with Jest(의역) - 작성중\",\"description\":\"$undefined\",\"tags\":[\"유닛 테스트\",\"테스트 기술\",\"Node.js\",\"비즈니스 로직\",\"소프트웨어 개발\"],\"date\":\"2022-07-18 13:16:21 +0900\"}}]\n"])</script><script>self.__next_f.push([1,"d:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\nb:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"1\",{\"children\":\"Your Blog Title\"}],[\"$\",\"meta\",\"2\",{\"name\":\"description\",\"content\":\"Your blog description\"}],[\"$\",\"link\",\"3\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"16x16\"}]]\n"])</script><script>self.__next_f.push([1,"9:null\n"])</script></body></html>